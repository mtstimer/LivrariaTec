<form (ngSubmit)="submit()" [formGroup]="formulario">

    <mat-card>
      <mat-card-header>
  
        <div mat-card-avatar class="avatar" fxLayout fxLayoutAlign="center center">
          <mat-icon>book</mat-icon>
        </div>
  
        <mat-card-title>Produto</mat-card-title>
        <mat-card-subtitle>Cadastro de um novo Produto</mat-card-subtitle>
  
      </mat-card-header>
  
      <mat-card-content>
  
        <mat-form-field appearance="outline">
          <mat-label>Nome</mat-label>
          <input matInput formControlName="nome" name="nome">
          <mat-error *ngIf="formulario.controls['nome'].hasError('required')">O campo deve ser preenchido</mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline">
            <mat-label>Descrição</mat-label>
            <input matInput formControlName="descricao" name="descricao">
            <mat-error *ngIf="formulario.controls['descricao'].hasError('required')">O campo deve ser preenchido</mat-error>
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>Quantidade</mat-label>
            <input matInput formControlName="quantidade" name="quantidade">
            <mat-error *ngIf="formulario.controls['quantidade'].hasError('required')">O campo deve ser preenchido</mat-error>
          </mat-form-field>

          <mat-form-field appearance="outline" class="input-valor">
            <mat-label>Preco</mat-label>
            <input matInput formControlName="preco" name="preco">
            <mat-icon matPrefix>attach_money</mat-icon>
            <mat-error *ngIf="formulario.controls['preco'].hasError('required')">O valor é obrigatório
            </mat-error>
            <mat-error *ngIf="formulario.controls['preco'].hasError('number')">O valor não é válido
            </mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Genero</mat-label>
          <mat-select formControlName="idGenero">
            <mat-option *ngFor="let genero of generos | async" [value]="genero.id">
              {{genero.nome}}
            </mat-option>
          </mat-select>
          <mat-error *ngIf="formulario.controls['idGenero'].hasError('required')">O genero deve ser selecionado</mat-error>
        </mat-form-field>
  
        <mat-form-field appearance="outline">
          <mat-label>Editora</mat-label>
          <mat-select formControlName="idEditora">
            <mat-option *ngFor="let editora of editoras | async" [value]="editora.id">
              {{editora.nome}}
            </mat-option>
          </mat-select>
          <mat-error *ngIf="formulario.controls['idEditora'].hasError('required')">A editora deve ser selecionado</mat-error>
        </mat-form-field>

      </mat-card-content>

  
      <mat-card-actions>
  
        <div fxLayout="row">
  
          <button mat-button color="accent" class="uppercase" type="button" (click)="voltar()">
            Voltar
          </button>
  
          <button mat-button color="accent" class="uppercase" type="reset">
            Limpar
          </button>
  
          <span fxFlex></span>
  
          <!-- <div class="spinner-container" *ngIf="formulario.disabled">
            <mat-spinner strokeWidth="2" diameter="22"> </mat-spinner>
          </div> -->
  
          <button mat-flat-button color="primary" class="uppercase" type="submit">
            Salvar
          </button>
  
        </div>
  
      </mat-card-actions>
  
    </mat-card>
  
  </form>
